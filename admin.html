
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Admin Tilo CafÃ©</title>
  <style>
    body { font-family: sans-serif; background: #fffafa; padding: 20px; color: #333; }
    input, textarea, select, button { display: block; margin: 10px 0; padding: 10px; width: 100%; max-width: 500px; }
    button { background: #68310f; color: white; border: none; border-radius: 8px; cursor: pointer; }
    button:hover { background: #4c2812; }
    .preview { border: 1px solid #ccc; border-radius: 10px; padding: 10px; margin-top: 20px; background: #f7f7f7; width: 100%; max-width: 500px; }
    .preview img { width: 100%; max-height: 200px; object-fit: cover; }
    label { font-weight: bold; }
  </style>
</head>
<body>
  <h1>ðŸ“‹ Administrador de productos - Tilo CafÃ©</h1>

  <label>Nombre</label>
  <input type="text" id="nombre">

  <label>DescripciÃ³n</label>
  <textarea id="descripcion"></textarea>

  <label>Precio (sin $)</label>
  <input type="number" id="precio" min="0">

  <label>Nombre del archivo de imagen (ej: cafe1.jpg)</label>
  <input type="text" id="imagen">

  <label>CategorÃ­a</label>
  <input type="text" id="categoria">

  <button onclick="agregarProducto()">Agregar producto</button>
  <button onclick="guardarJSON()">ðŸ’¾ Descargar productos.json</button>

  <div class="preview" id="preview" style="display:none;">
    <h2>Vista previa</h2>
    <img id="preview-img">
    <h3 id="preview-nombre"></h3>
    <p id="preview-descripcion"></p>
    <p id="preview-precio" style="font-weight:bold;"></p>
  </div>

  <script>
    let productos = [];

    function agregarProducto() {
      const nombre = document.getElementById("nombre").value;
      const descripcion = document.getElementById("descripcion").value;
      const precio = "$" + document.getElementById("precio").value;
      const imagen = "img/" + document.getElementById("imagen").value;
      const categoria = document.getElementById("categoria").value;

      const nuevo = { nombre, descripcion, precio, imagen, categoria };
      productos.push(nuevo);

      // Mostrar vista previa
      document.getElementById("preview").style.display = "block";
      document.getElementById("preview-img").src = imagen;
      document.getElementById("preview-nombre").innerText = nombre;
      document.getElementById("preview-descripcion").innerText = descripcion;
      document.getElementById("preview-precio").innerText = precio;

      // Limpiar campos
      document.getElementById("nombre").value = "";
      document.getElementById("descripcion").value = "";
      document.getElementById("precio").value = "";
      document.getElementById("imagen").value = "";
      document.getElementById("categoria").value = "";
    }

    function guardarJSON() {
      const blob = new Blob([JSON.stringify(productos, null, 2)], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const link = document.createElement("a");
      link.href = url;
      link.download = "productos.json";
      link.click();
    }
  </script>
</body>
</html>
